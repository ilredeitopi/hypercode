
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/prism-element/prism-highlighter.html">
<link rel="import" href="../../bower_components/prism-element/prism-theme-default.html">
<link rel="import" href="../../bower_components/prism-element/demo/prism-demo.html">

<dom-module id="hc-file-displayer">

  <style include="prism-theme-default">
    
    #main{
      background-color: #f2f2f2;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      position: absolute;
      white-space: nowrap;
      overflow: hidden;
      transition: width 2s, height 2s;
    }
    h1{
      text-align: center;
      margin: 1vmin;
      font-weight: normal;
    }
    #body{
      margin:1vmin;
       overflow: scroll;
       height: 100%;
       font-family: 'Courier New',monospace;
    }
    .passive{
      background-color: #b3b3b3;
      font-weight: 100;
    }
    .active{

    }

    
  </style>
  <template>
    <div modelid="{{id}}" id="main" >
      <h1 on-click="toggleactive">Example.java</h1>
      <div id="body" class="passive" contenteditable$="[[isEditable]]">
        class Project{<br><br>
           
           String title;<br>
           Repository repo;<br><br>
           
          }
        <!-- <pre id="output" ></pre>-->
      </div>
      <prism-highlighter></prism-highlighter>
      
      
    </div>
  

  </template>


  <script>
  (function () {
    'use strict';

    Polymer({
      is: 'hc-file-displayer',
      properties: {
        height:{
          type: Number,
          notify:true,
          observer:"resize"
        },
        width:{
          type: Number,
          notify:true,
          observer:"resize"
        },
        id:{
          type:String,
          notify:true
        },
        code:{
          type:String,
          observer: '_render',
          value: "class Project{\n\n String title;\n Repository repo;\n\n}"
        },
        isEditable:{
          type: Boolean,
          value: false
        }

      },
      attached: function() {
        // this._render();
        this.$.main.style.width=this.width+"px"
        this.$.main.style.height=this.height+"px"
        if(this.isEditable){
          this.$.body.className = "active style-scope hc-file-displayer";
        }else{
          this.$.body.className = "passive style-scope hc-file-displayer";
        }
      },
      resize:function(){
        this.$.main.style.width=this.width+"px"
        this.$.main.style.height=this.height+"px"
      },
      // _render: function() {
      //   this.$.output.innerHTML = this.highlight(this.code, 'js');
      // },
      // highlight: function(code, lang) {
      //   return this.fire('syntax-highlight', {code: code, lang: lang}).detail.code;
      // },
      toggleactive: function(){
        this.isEditable = !this.isEditable;
        if(this.isEditable){
          this.$.body.className = "active style-scope hc-file-displayer";
        }else{
          this.$.body.className = "passive style-scope hc-file-displayer";
        }
      }




    });
})();
  </script>

</dom-module>