<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="hc-file-displayer.html"/>
<dom-module id="hc-file-container">

<style>
	#container{
		background-color: blue;
	}
	.hc-file-displayer{
		position: absolute;
	}
	#test{
		background-color: grey;
		width: 200px;
		height: 300px;
	}
</style>

	<template>
	<div id="container">
	<!-- <hc-file-displayer height width></hc-file-displayer>
	<hc-file-displayer height width></hc-file-displayer> -->
	</div>
	<div id="mainFile">
	<hc-file-displayer height="300" width="200" ></hc-file-displayer>
	</div>

		
	</template>

	<script src="../js/Sprite3D.js" type="text/javascript"></script>
	<script>
	(function () {
    'use strict';
    Polymer({
      is: 'hc-file-container',
      properties: {
        height:{
          type: Number,
          value:500,
          notify:true
        },
        width:{
          type: Number,
          value:500,
          notify:true
        },
        id:{
          type:String,
          notify:true
        },
        data:{
        	type:Object,
        	value:{
        		name:"placeholder",
        		relations:[
        		{name:"pl1", code:"more code"},
        		{name:"pl2", code:"even more code"} 
        		],
        		source:"some code"
        	}
        },
        stage:{},

      },
      

      ready:function(){
      	this.width=window.innerWidth-20
      	this.height=window.innerHeight-30
        this.$.container.style.width= this.width+"px" //this.width+"px"
        this.$.container.style.height= this.height+"px"//this.height+"px"
        this.stage = Sprite3D.stage(this.$.container);
        let mainFile = document.createElement("hc-file-displayer");
        mainFile.setAttribute("width",400);
        mainFile.setAttribute("height",300);
        this.stage.appendChild(mainFile)
        
        this.setUp();


      },
      setUp:function(){
      	//main file
      	let x =Sprite3D.create(this.$.mainFile)
        let mainSprite =this.stage.appendChild(x)
        mainSprite.position(300,400).update()
      }

    });
})();

	</script>

</dom-module>